#include <pto/pto-inst.hpp>
#include <pto/common/constants.hpp>
#include "acl/acl.h"

#include "pto/pto-inst.hpp"
using namespace pto;
__global__ AICORE void ffn_swiglu_block(__gm__ float* v1, __gm__ float* v2, __gm__ float* v3, __gm__ float* v4, __gm__ float* v5, __gm__ float* v6, __gm__ float* v7, __gm__ float* v8, int32_t v9, int32_t v10) {
  unsigned v11 = 1;
  unsigned v12 = 0;
  float v13 = -0.0208333302f;
  float v14 = 0.25f;
  float v15 = 0.5f;
  float v16 = 4.00010014f;
  float v17 = -4.00010014f;
  int32_t v18 = 32;
  int32_t v19 = 1;
  int64_t v20 = 0;
  int64_t v21 = 4096;
  int64_t v22 = 8192;
  int64_t v23 = 12288;
  int64_t v24 = 16384;
  using T = float;
  size_t v25 = (size_t) v9;
  size_t v26 = (size_t) v10;
  unsigned v27 = (unsigned) v18;
  unsigned v28 = v12 * v27;
  unsigned v29 = v12 + v28;
  unsigned v30 = (unsigned) v19;
  unsigned v31 = v12 * v30;
  unsigned v32 = v29 + v31;
  __gm__ float* v33 = v1 + v32;
  using GTShape_508436528 = pto::Shape<1, 1, 1, 32, 32>;
  using GTStride_508436528 = pto::Stride<1024, 1024, 1024, 32, 1>;
  constexpr pto::Layout GT_508436528_layout = pto::Layout::ND;
  GTShape_508436528 v34 = GTShape_508436528();
  GTStride_508436528 v35 = GTStride_508436528();
  using GT_508436528 = GlobalTensor<float, GTShape_508436528, GTStride_508436528, GT_508436528_layout>;
  GT_508436528 v36 = GT_508436528(v33, v34, v35);
  unsigned v37 = (unsigned) v18;
  unsigned v38 = v12 * v37;
  unsigned v39 = v12 + v38;
  unsigned v40 = (unsigned) v19;
  unsigned v41 = v12 * v40;
  unsigned v42 = v39 + v41;
  __gm__ float* v43 = v2 + v42;
  using GTShape_508436256 = pto::Shape<1, 1, 1, 32, 32>;
  using GTStride_508436256 = pto::Stride<1024, 1024, 1024, 32, 1>;
  constexpr pto::Layout GT_508436256_layout = pto::Layout::ND;
  GTShape_508436256 v44 = GTShape_508436256();
  GTStride_508436256 v45 = GTStride_508436256();
  using GT_508436256 = GlobalTensor<float, GTShape_508436256, GTStride_508436256, GT_508436256_layout>;
  GT_508436256 v46 = GT_508436256(v43, v44, v45);
  unsigned v47 = (unsigned) v18;
  unsigned v48 = v12 * v47;
  unsigned v49 = v12 + v48;
  unsigned v50 = (unsigned) v19;
  unsigned v51 = v12 * v50;
  unsigned v52 = v49 + v51;
  __gm__ float* v53 = v3 + v52;
  using GTShape_508432848 = pto::Shape<1, 1, 1, 32, 32>;
  using GTStride_508432848 = pto::Stride<1024, 1024, 1024, 32, 1>;
  constexpr pto::Layout GT_508432848_layout = pto::Layout::ND;
  GTShape_508432848 v54 = GTShape_508432848();
  GTStride_508432848 v55 = GTStride_508432848();
  using GT_508432848 = GlobalTensor<float, GTShape_508432848, GTStride_508432848, GT_508432848_layout>;
  GT_508432848 v56 = GT_508432848(v53, v54, v55);
  unsigned v57 = (unsigned) v18;
  unsigned v58 = v12 * v57;
  unsigned v59 = v12 + v58;
  unsigned v60 = (unsigned) v19;
  unsigned v61 = v12 * v60;
  unsigned v62 = v59 + v61;
  __gm__ float* v63 = v4 + v62;
  using GTShape_508432576 = pto::Shape<1, 1, 1, 32, 32>;
  using GTStride_508432576 = pto::Stride<1024, 1024, 1024, 32, 1>;
  constexpr pto::Layout GT_508432576_layout = pto::Layout::ND;
  GTShape_508432576 v64 = GTShape_508432576();
  GTStride_508432576 v65 = GTStride_508432576();
  using GT_508432576 = GlobalTensor<float, GTShape_508432576, GTStride_508432576, GT_508432576_layout>;
  GT_508432576 v66 = GT_508432576(v63, v64, v65);
  unsigned v67 = (unsigned) v18;
  unsigned v68 = v12 * v67;
  unsigned v69 = v12 + v68;
  unsigned v70 = (unsigned) v19;
  unsigned v71 = v12 * v70;
  unsigned v72 = v69 + v71;
  __gm__ float* v73 = v5 + v72;
  using GTShape_508432304 = pto::Shape<1, 1, 1, 32, 32>;
  using GTStride_508432304 = pto::Stride<1024, 1024, 1024, 32, 1>;
  constexpr pto::Layout GT_508432304_layout = pto::Layout::ND;
  GTShape_508432304 v74 = GTShape_508432304();
  GTStride_508432304 v75 = GTStride_508432304();
  using GT_508432304 = GlobalTensor<float, GTShape_508432304, GTStride_508432304, GT_508432304_layout>;
  GT_508432304 v76 = GT_508432304(v73, v74, v75);
  unsigned v77 = (unsigned) v18;
  unsigned v78 = v12 * v77;
  unsigned v79 = v12 + v78;
  unsigned v80 = (unsigned) v19;
  unsigned v81 = v12 * v80;
  unsigned v82 = v79 + v81;
  __gm__ float* v83 = v6 + v82;
  using GTShape_508404288 = pto::Shape<1, 1, 1, 32, 32>;
  using GTStride_508404288 = pto::Stride<1024, 1024, 1024, 32, 1>;
  constexpr pto::Layout GT_508404288_layout = pto::Layout::ND;
  GTShape_508404288 v84 = GTShape_508404288();
  GTStride_508404288 v85 = GTStride_508404288();
  using GT_508404288 = GlobalTensor<float, GTShape_508404288, GTStride_508404288, GT_508404288_layout>;
  GT_508404288 v86 = GT_508404288(v83, v84, v85);
  unsigned v87 = (unsigned) v18;
  unsigned v88 = v12 * v87;
  unsigned v89 = v12 + v88;
  unsigned v90 = (unsigned) v19;
  unsigned v91 = v12 * v90;
  unsigned v92 = v89 + v91;
  __gm__ float* v93 = v7 + v92;
  using GTShape_508406912 = pto::Shape<1, 1, 1, 32, 32>;
  using GTStride_508406912 = pto::Stride<1024, 1024, 1024, 32, 1>;
  constexpr pto::Layout GT_508406912_layout = pto::Layout::ND;
  GTShape_508406912 v94 = GTShape_508406912();
  GTStride_508406912 v95 = GTStride_508406912();
  using GT_508406912 = GlobalTensor<float, GTShape_508406912, GTStride_508406912, GT_508406912_layout>;
  GT_508406912 v96 = GT_508406912(v93, v94, v95);
  unsigned v97 = (unsigned) v18;
  unsigned v98 = v12 * v97;
  unsigned v99 = v12 + v98;
  unsigned v100 = (unsigned) v19;
  unsigned v101 = v12 * v100;
  unsigned v102 = v99 + v101;
  __gm__ float* v103 = v8 + v102;
  using GTShape_508407296 = pto::Shape<1, 1, 1, 32, 32>;
  using GTStride_508407296 = pto::Stride<1024, 1024, 1024, 32, 1>;
  constexpr pto::Layout GT_508407296_layout = pto::Layout::ND;
  GTShape_508407296 v104 = GTShape_508407296();
  GTStride_508407296 v105 = GTStride_508407296();
  using GT_508407296 = GlobalTensor<float, GTShape_508407296, GTStride_508407296, GT_508407296_layout>;
  GT_508407296 v106 = GT_508407296(v103, v104, v105);
  Tile<TileType::Mat, float, 32, 32, BLayout::ColMajor, 32, 32, SLayout::RowMajor, 512, PadValue::Null> v107;
  TASSIGN(v107, v20);
  Tile<TileType::Mat, float, 32, 32, BLayout::ColMajor, 32, 32, SLayout::RowMajor, 512, PadValue::Null> v108;
  TASSIGN(v108, v21);
  Tile<TileType::Mat, float, 32, 32, BLayout::ColMajor, 32, 32, SLayout::RowMajor, 512, PadValue::Null> v109;
  TASSIGN(v109, v22);
  Tile<TileType::Mat, float, 32, 32, BLayout::ColMajor, 32, 32, SLayout::RowMajor, 512, PadValue::Null> v110;
  TASSIGN(v110, v23);
  Tile<TileType::Left, float, 32, 32, BLayout::RowMajor, 32, 32, SLayout::RowMajor, 512, PadValue::Null> v111;
  TASSIGN(v111, v20);
  Tile<TileType::Right, float, 32, 32, BLayout::RowMajor, 32, 32, SLayout::ColMajor, 512, PadValue::Null> v112;
  TASSIGN(v112, v20);
  Tile<TileType::Right, float, 32, 32, BLayout::RowMajor, 32, 32, SLayout::ColMajor, 512, PadValue::Null> v113;
  TASSIGN(v113, v21);
  Tile<TileType::Right, float, 32, 32, BLayout::RowMajor, 32, 32, SLayout::ColMajor, 512, PadValue::Null> v114;
  TASSIGN(v114, v22);
  Tile<TileType::Acc, float, 32, 32, BLayout::ColMajor, 32, 32, SLayout::RowMajor, 1024, PadValue::Null> v115;
  TASSIGN(v115, v20);
  Tile<TileType::Acc, float, 32, 32, BLayout::ColMajor, 32, 32, SLayout::RowMajor, 1024, PadValue::Null> v116;
  TASSIGN(v116, v21);
  Tile<TileType::Vec, float, 32, 32, BLayout::RowMajor, -1, -1, SLayout::NoneBox, 512, PadValue::Null> v117 = Tile<TileType::Vec, float, 32, 32, BLayout::RowMajor, -1, -1, SLayout::NoneBox, 512, PadValue::Null>(v25, v26);
  TASSIGN(v117, v20);
  Tile<TileType::Vec, float, 32, 32, BLayout::RowMajor, -1, -1, SLayout::NoneBox, 512, PadValue::Null> v118 = Tile<TileType::Vec, float, 32, 32, BLayout::RowMajor, -1, -1, SLayout::NoneBox, 512, PadValue::Null>(v25, v26);
  TASSIGN(v118, v21);
  Tile<TileType::Vec, float, 32, 32, BLayout::RowMajor, -1, -1, SLayout::NoneBox, 512, PadValue::Null> v119 = Tile<TileType::Vec, float, 32, 32, BLayout::RowMajor, -1, -1, SLayout::NoneBox, 512, PadValue::Null>(v25, v26);
  TASSIGN(v119, v24);
  Tile<TileType::Vec, float, 32, 32, BLayout::RowMajor, -1, -1, SLayout::NoneBox, 512, PadValue::Null> v120 = Tile<TileType::Vec, float, 32, 32, BLayout::RowMajor, -1, -1, SLayout::NoneBox, 512, PadValue::Null>(v25, v26);
  TASSIGN(v120, v22);
  Tile<TileType::Vec, float, 32, 32, BLayout::RowMajor, -1, -1, SLayout::NoneBox, 512, PadValue::Null> v121 = Tile<TileType::Vec, float, 32, 32, BLayout::RowMajor, -1, -1, SLayout::NoneBox, 512, PadValue::Null>(v25, v26);
  TASSIGN(v121, v23);
  Tile<TileType::Mat, float, 32, 32, BLayout::ColMajor, 32, 32, SLayout::RowMajor, 512, PadValue::Null> v122;
  TASSIGN(v122, v24);
  Tile<TileType::Left, float, 32, 32, BLayout::RowMajor, 32, 32, SLayout::RowMajor, 512, PadValue::Null> v123;
  TASSIGN(v123, v21);
  TLOAD(v107, v36);
  set_flag(PIPE_MTE2, PIPE_MTE1, EVENT_ID0);
  TLOAD(v108, v46);
  set_flag(PIPE_MTE2, PIPE_MTE1, EVENT_ID1);
  TLOAD(v109, v56);
  set_flag(PIPE_MTE2, PIPE_MTE1, EVENT_ID2);
  TLOAD(v110, v66);
  wait_flag(PIPE_MTE2, PIPE_MTE1, EVENT_ID0);
  TMOV(v111, v107);
  wait_flag(PIPE_MTE2, PIPE_MTE1, EVENT_ID1);
  TMOV(v112, v108);
  set_flag(PIPE_MTE1, PIPE_M, EVENT_ID0);
  wait_flag(PIPE_MTE1, PIPE_M, EVENT_ID0);
  TMATMUL(v115, v111, v112);
  set_flag(PIPE_M, PIPE_MTE3, EVENT_ID0);
  wait_flag(PIPE_M, PIPE_MTE3, EVENT_ID0);
  TSTORE(v76, v115);
  set_flag(PIPE_MTE3, PIPE_M, EVENT_ID0);
  set_flag(PIPE_MTE3, PIPE_MTE2, EVENT_ID0);
  wait_flag(PIPE_MTE2, PIPE_MTE1, EVENT_ID2);
  TMOV(v113, v109);
  set_flag(PIPE_MTE1, PIPE_M, EVENT_ID1);
  wait_flag(PIPE_MTE1, PIPE_M, EVENT_ID1);
  wait_flag(PIPE_MTE3, PIPE_M, EVENT_ID0);
  TMATMUL(v115, v111, v113);
  set_flag(PIPE_M, PIPE_MTE3, EVENT_ID1);
  wait_flag(PIPE_M, PIPE_MTE3, EVENT_ID1);
  TSTORE(v86, v115);
  set_flag(PIPE_MTE3, PIPE_MTE2, EVENT_ID1);
  wait_flag(PIPE_MTE3, PIPE_MTE2, EVENT_ID0);
  TLOAD(v117, v76);
  wait_flag(PIPE_MTE3, PIPE_MTE2, EVENT_ID1);
  TLOAD(v118, v86);
  TMAXS(v117, v117, v17);
  TMINS(v117, v117, v16);
  TMUL(v120, v117, v117);
  TMUL(v121, v120, v117);
  TMULS(v121, v121, v13);
  TMULS(v119, v117, v14);
  TADDS(v119, v119, v15);
  TADD(v119, v119, v121);
  set_flag(PIPE_V, PIPE_MTE3, EVENT_ID0);
  TMUL(v119, v119, v118);
  wait_flag(PIPE_V, PIPE_MTE3, EVENT_ID0);
  TSTORE(v96, v119);
  set_flag(PIPE_MTE3, PIPE_MTE2, EVENT_ID2);
  wait_flag(PIPE_MTE3, PIPE_MTE2, EVENT_ID2);
  TLOAD(v122, v96);
  set_flag(PIPE_MTE2, PIPE_MTE1, EVENT_ID3);
  wait_flag(PIPE_MTE2, PIPE_MTE1, EVENT_ID3);
  TMOV(v123, v122);
  TMOV(v114, v110);
  set_flag(PIPE_MTE1, PIPE_M, EVENT_ID2);
  wait_flag(PIPE_MTE1, PIPE_M, EVENT_ID2);
  TMATMUL(v116, v123, v114);
  set_flag(PIPE_M, PIPE_MTE3, EVENT_ID2);
  wait_flag(PIPE_M, PIPE_MTE3, EVENT_ID2);
  TSTORE(v106, v116);
  pipe_barrier(PIPE_ALL);
  return;
}


