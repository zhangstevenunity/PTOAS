add_mlir_dialect_library(PTOTransforms
  InsertLoadStoreForMixCV.cpp
  PTOInsertCVMov.cpp
  PTOConvertToDPS.cpp
  PTOInsertSync.cpp
  PTOViewToMemref.cpp
  PTOConvert.cpp
  Utils.cpp
  OptMemPlanForPipeline.cpp
  AllocToPointerCast.cpp
  InferPTOMemScope.cpp
  PTOPlanMemory.cpp
  PTORemoveRedundantBarrier.cpp
  InferPTOLayout.cpp
  BufferizableOpInterfaceImpl.cpp
  ConvertToPTOOp.cpp
  PTOHighDimLowering.cpp
  PTOVFloopGather.cpp
  PTOIRTranslator.cpp
  SyncCommon.cpp
  BlockSyncAnalysis.cpp
  MemoryDependentAnalyzer.cpp
  MoveSyncState.cpp
  RemoveRedundantSync.cpp
  SyncEventIdAllocation.cpp
  SyncCodegen.cpp
  LoweringSyncToPipe.cpp

  ADDITIONAL_HEADER_DIRS
  ${PROJECT_SOURCE_DIR}/include/PTO

  DEPENDS
  PTOPassesIncGen
  PTOOpsIncGen

  LINK_LIBS PUBLIC
  PTOIR
  MLIRIR
  MLIRPass
  MLIRFuncDialect
  MLIRMemRefDialect
  MLIRArithDialect
  MLIRAffineDialect
  MLIREmitCDialect
  MLIRTargetCpp
  MLIRTransformUtils
  MLIRTransforms
  MLIRTensorDialect
  MLIRSCFToEmitC
)
